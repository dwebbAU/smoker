<!DOCTYPE html>
<html lang="en">
{% load bootstrap3 %}
{% bootstrap_css %}
{% bootstrap_javascript %}
{% bootstrap_messages %}

<head>
    <title>Smoker</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
<div class="container">
    <div class="jumbotron">
        <h1>Smoker!!</h1>
    </div>
    <div class="row">
        <div class="col-sm-6">
            <p id="curAmbTemp"> Current Ambient Temperature: {{ tempAmbient }}</p>
        </div>
        <div class="col-sm-6">
            <h3> Current Internal Temperature: {{ tempInternal }}</h3>
        </div>
    </div>
</div>


<script>
    function loadDoc(){
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function() {
            if (xhttp.readState == 4 && http.status == 200) {
                document.getElementById("curAmbTemp").innerHTML = xhttp.responseText;
                console.log(xhttp.responseText)
            }
        };
        xhttp.open("GET", "http://192.168.32.120/api/sensordata/", true);
        xhttp.send();
    }
    setInterval(loadDoc,5000)

</script>
</body>
</html>